{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function debounceTime(dueTime, scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n  return function (source) {\n    return source.lift(new DebounceTimeOperator(dueTime, scheduler));\n  };\n}\nvar DebounceTimeOperator = /*@__PURE__*/function () {\n  function DebounceTimeOperator(dueTime, scheduler) {\n    this.dueTime = dueTime;\n    this.scheduler = scheduler;\n  }\n  DebounceTimeOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n  };\n  return DebounceTimeOperator;\n}();\nvar DebounceTimeSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(DebounceTimeSubscriber, _super);\n  function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n    var _this = _super.call(this, destination) || this;\n    _this.dueTime = dueTime;\n    _this.scheduler = scheduler;\n    _this.debouncedSubscription = null;\n    _this.lastValue = null;\n    _this.hasValue = false;\n    return _this;\n  }\n  DebounceTimeSubscriber.prototype._next = function (value) {\n    this.clearDebounce();\n    this.lastValue = value;\n    this.hasValue = true;\n    this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n  };\n  DebounceTimeSubscriber.prototype._complete = function () {\n    this.debouncedNext();\n    this.destination.complete();\n  };\n  DebounceTimeSubscriber.prototype.debouncedNext = function () {\n    this.clearDebounce();\n    if (this.hasValue) {\n      var lastValue = this.lastValue;\n      this.lastValue = null;\n      this.hasValue = false;\n      this.destination.next(lastValue);\n    }\n  };\n  DebounceTimeSubscriber.prototype.clearDebounce = function () {\n    var debouncedSubscription = this.debouncedSubscription;\n    if (debouncedSubscription !== null) {\n      this.remove(debouncedSubscription);\n      debouncedSubscription.unsubscribe();\n      this.debouncedSubscription = null;\n    }\n  };\n  return DebounceTimeSubscriber;\n}(Subscriber);\nfunction dispatchNext(subscriber) {\n  subscriber.debouncedNext();\n}","map":{"version":3,"mappings":";AAEA,OAAO,KAAEA,OAAU,MAAE,OAAM;AAE3B,SAASC,UAAO,QAAM,eAAoB;AAuD1C,SAAMC,aAAU,oBAAiC;OAAA,0CAAgC;EAC/E,aAAO,KAAC,KAAqB;IAC9BC;EAED;EACE;IAAA,OAAoBC,MAAyB,UAAwBC;EAAA;;wBAAf,GAAT,aAAwB;EACrE,SAACA;IAED;IACE,cAAc,YAAU;EAC1B;EACFA,8BAAC;IAAA;EAOD;EAAwC;GAKtC;0BAGE,gBAAM,UAAYC,MACnB;SAHmB,UAAO,uBAAQ;WACfC,sBAAS,CAAeC;IANpC,4BAAqB,EAAiBA,WAAK;IAC3CC,gBAASC,OAAW;IACpBD,eAAQ,GAAYN,SAAM;;IAMjCM;IAESA;IACR,OAAKA;;wBAEW,UAAK;IACrB,IAAI,CAACE,aAAS;IACf;IAES;IACR,IAAI,CAACC,8BAAgB;;EAEvBL,sBAAC;IAED;IACE,IAAI,CAACC,oBAAgB;;wBAGX,wBAAmB;QAM3B,cAAc;QACd,IAAI,CAACK,QAAQ;MACb,IAAIC,SAAC,GAAW,IAAC,CAAIA,SAAC;MACvB;MACF;MAEO;IACN;;wBAGc,wBAAuB;QACnCC,qBAAqB,GAAC,0BAAc;QACpCA,qBAAK,KAAqB,IAAG;MAC9B;MACFA;MACH,0BAAC;IAhDuC;EAkDxC;EACE,6BAA2B;AAC7B,CAAC","names":["tslib_1","Subscriber","async","scheduler","source","DebounceTimeOperator","_super","DebounceTimeSubscriber","destination","_this","dueTime","clearDebounce","add","hasValue","lastValue","debouncedSubscription"],"sources":["../../../src/internal/operators/debounceTime.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}